Language and dialect are codes that mean they are two systems used for communication. However, language is a system where two or more people communicate with each other either through speaking or writing, while a dialect is a system where two or more people communicate with each other only through speaking.
For example, Malta is a small country and is near Morocco, Algeria, and Tunisia, it has had several rulers, such as, Sicilians, French, British and others, its language is Maltese that developed from the Sicilian Arabic and continued to be spoken in Malta and evolved to be a language by its own.
Most of the Maltese words are from Italian, Arabic, and English. So if we know Arabic, English, and a little bit Italian, then we can understand the Maltese words and we can speak it. So in order to communicate with the Maltese people and to understand their language we need to learn it. Maltese is a very interesting language because it is a twisted language and it is the only Semitic language that was spoken in Spain and Sicily, and the only one that was written in Latin.
When Malta got its independence, the Maltese language developed and became the official language of the country, not only the Maltese language but also the English language, the English language was imposed on the population of Malta and it also became the official language of the country.
Another example, Moroccan Arabic, it is also called Moroccan Darija which is the most difficult language for speakers to understand than other dialects, as some people saw it as a strange and different language because it was influenced by the Amazigh, French, and Spanish languages.
Morocco was occupied by France, as the reason that the language of Morocco was affected by the French language, meaning that most of the people of Morocco became fluent in French. The French language became the primary language in Morocco; they used it in education, government, medicine and so on.
The Moroccan Darija differs from Standard Arabic for many reasons; The Moroccan Darija is an informal language; it is used in daily life. In contrast, Standard Arabic is a formal language, and is used in schools for example.
Moreover, although the French language became the official language in Morocco, the Moroccan Darija and the Standard Arabic have the same words but their pronunciation is different, for instance, the word "apartment", in Moroccan Darija is "bartmah", but in Standard Arabic is "shaqa".
Furthermore, as a result of the Amazigh language influence on the Moroccan Darija, a vowel reduction resulted which means that for the Moroccan Darija the stress is on the last syllable, but for the Standard Arabic the stress is on the first syllable, such as, the word "country", in Moroccan Darija is "bled", but in Standard Arabic is "balad".
To conclude, Maltese is the official language in Malta because of the independence that Malta gained, which was the reason for the development of the language and making it the official language of the country, conversely, Moroccan Arabic is a dialect of Arabic because of the occupation of Morocco by France.
In my opinion, the Maltese is another language, due to the difficulty of the Arabic language speakers to write it, however, the Moroccan is easy to understand while reading and difficult while hearing, so for Arabic speakers it is almost the same language but different dialect.